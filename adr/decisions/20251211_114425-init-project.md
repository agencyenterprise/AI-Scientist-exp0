# ADR: Initialize Project Agent System

**Date**: 2025-12-11
**Status**: Accepted
**Context**: Initial `/adr-init` setup for AE-Scientist codebase

## Decision

Configured the agent system for the AE-Scientist research pipeline platform.

## Project Analysis

### Stack

- **Frontend**: Next.js 15 + React 19 + TypeScript (App Router)
- **Backend**: FastAPI (Python 3.12)
- **Research Pipeline**: Python ML/AI stack (LangChain, Anthropic, OpenAI)
- **Orchestrator**: Next.js (background job orchestration)
- **Database**: PostgreSQL with psycopg2 connection pooling
- **State Management**: Zustand (frontend), React Query (data fetching)
- **Styling**: Tailwind CSS v4
- **Testing**: pytest (Python), Vitest (TypeScript)
- **Deployment**: Railway (server/frontend), RunPod (GPU workloads)

### Architecture

```
AE-Scientist/
├── frontend/           # Next.js dashboard (src/features/ organization)
├── server/             # FastAPI backend (app/api/, app/services/)
├── research_pipeline/  # AI Scientist ML pipeline (treesearch, ideation)
├── orchestrator/       # Background job orchestrator
└── adr/               # Architecture Decision Records
```

### Key Patterns Identified

1. **Feature-based frontend**: `frontend/src/features/{feature}/` with components, hooks, utils
2. **Service layer backend**: `server/app/services/database/` for DB operations
3. **Pydantic models**: Request/response validation in `server/app/models/`
4. **OpenAPI type gen**: `npm run gen:api-types` generates `api.gen.ts`
5. **SSE real-time updates**: Research run progress via EventSource
6. **Cookie-based auth**: Google OAuth with session cookies

## Files Updated

- `CLAUDE.md` — Project stack and structure documented
- `.claude/skills/adr-research-codebase/SKILL.md` — Search paths configured
- `.claude/skills/adr-research-codebase/patterns.md` — Codebase patterns documented

## Consequences

- Agents can now navigate the codebase efficiently using documented paths
- Pattern documentation enables consistent code contributions
- Research skill search areas match actual project structure

## Next Steps

- Use `/adr-research [topic]` to explore specific areas
- Use `/adr-feature [description]` for implementation tasks
- Add new patterns to `patterns.md` as discovered
